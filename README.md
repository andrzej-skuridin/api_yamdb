# api_yamdb
#### Разработчики: 
* Андрей Пономарев (авторизация и управление пользователями) 
* Владимир Рудаков (система отзывов и комментариев) 
* Андрей Скуридин (категории, жанры и произведения)

## Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
https://github.com/morhond/api_yamdb.git
```

```
cd yatube_api
```

Cоздать и активировать виртуальное окружение:

```
python3 -m venv env
```

* Если у вас Linux/macOS

    ```
    source env/bin/activate
    ```

* Если у вас windows

    ```
    source env/scripts/activate
    ```

```
python -m pip install --upgrade pip
```

Установить зависимости из файла requirements.txt:

```
pip install -r requirements.txt
```

Выполнить миграции:

```
python manage.py migrate
```

Запустить проект:

```
python manage.py runserver
```

## Endpoints и функционал проекта:
### 1) AUTH: Регистрация пользователей и выдача токенов
#### 1.1) Регистрация нового пользователя
```
POST: localhost/api/v1/auth/signup/
```
Получить код подтверждения на переданный email.

Использовать имена 'me', 'ME', 'Me', 'mE' в качестве username запрещено.

Права доступа: Доступно без токена.

#### 1.2) Получение JWT-токена
```
POST: localhost/api/v1/auth/token/
```
Получение JWT-токена в обмен на username и confirmation code.

Права доступа: Доступно без токена.

### 2) CATEGORIES: Категории (типы) произведений
#### 2.1) Получение списка всех категорий
```
GET: localhost/api/v1/categories/
```
Получить список всех категорий

Права доступа: Доступно без токена

#### 2.2) Добавление новой категории
```
POST: localhost/api/v1/categories/
```
Создать категорию.

Права доступа: Администратор.

#### 2.3) Удаление категории
```
DELETE: localhost/api/v1/categories/{slug}/
```
Удалить категорию.

Права доступа: Администратор.

### 3) GENRES: Категории жанров
#### 3.1) Получение списка всех жанров
```
GET: localhost/api/v1/genres/
```
Получить список всех жанров.

Права доступа: Доступно без токена

#### 3.2) Добавление жанра
```
POST: localhost/api/v1/genres/
```
Создать категорию.

Права доступа: Администратор.

#### 2.3) Удаление категории
```
DELETE: localhost/api/v1/genres/{slug}/
```
Удалить категорию.

Права доступа: Администратор.

### 4) TITLES: Произведения, к которым пишут отзывы (определённый фильм, книга или песенка).
#### 4.1) Получение списка всех произведений
```
GET: localhost/api/v1/titles/
```
Получить список всех объектов.

Права доступа: Доступно без токена

#### 4.2) Добавление произведения
```
POST: localhost/api/v1/titles/
```
Добавить новое произведение.

Права доступа: Администратор.

#### 4.3) Получение информации о произведении
```
GET: localhost/api/v1/titles/{titles_id}/
```
Информация о произведении

Права доступа: Доступно без токена

#### 4.4) Частичное обновление информации о произведении
```
PATCH: localhost/api/v1/titles/{titles_id}/
```
Обновить информацию о произведении

Права доступа: Администратор

#### 4.5) Удаление произведения
```
DELETE: localhost/api/v1/titles/{titles_id}/
```
Удалить произведение.

Права доступа: Администратор.

### 5) REVIEWS: Отзывы
#### 5.1) Получение списка всех отзывов
```
GET: localhost/api/v1/titles/{title_id}/reviews/
```
Получить список всех отзывов.

Права доступа: Доступно без токена.

#### 5.2) Добавление нового отзыва
```
POST: localhost/api/v1/titles/{title_id}/reviews/
```
Добавить новый отзыв. Пользователь может оставить только один отзыв на произведение.

Права доступа: Аутентифицированные пользователи.

#### 5.4) Полуение отзыва по id
```
GET: localhost/api/v1/titles/{title_id}/reviews/{review_id}/
```
Получить отзыв по id для указанного произведения.

Права доступа: Доступно без токена.

#### 5.5) Частичное обновление отзыва по id
```
PATCH: localhost/api/v1/titles/{title_id}/reviews/{review_id}/
```
Частично обновить отзыв по id.

Права доступа: Автор отзыва, модератор или администратор.

#### 5.6) Удаление отзыва по id
```
DELETE: localhost/api/v1/titles/{title_id}/reviews/{review_id}/
```
Удалить отзыв по id

Права доступа: Автор отзыва, модератор или администратор.

### 6) COMMENTS: Комментарии к отзывам
#### 6.1) Получение списка всех комментариев к отзыву
```
GET: localhost/api/v1/titles/{title_id}/reviews/{review_id}/comments/
```
Получить список всех комментариев к отзыву по id

Права доступа: Доступно без токена.

#### 6.2) Добавление комментария к отзыву
```
POST: localhost/api/v1/titles/{title_id}/reviews/{review_id}/comments/
```
Добавить новый комментарий для отзыва.

Права доступа: Аутентифицированные пользователи.

#### 6.3) Получение комментария к отзыву
```
GET: localhost/api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/
```
Получить комментарий для отзыва по id.

Права доступа: Доступно без токена.

#### 6.4) Частичное обновление комментария к отзыву
```
PATCH: localhost/api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/
```
Частично обновить комментарий к отзыву по id.

Права доступа: Автор комментария, модератор или администратор.

#### 6.5) Удаление комментария к отзыву
```
DELETE: localhost/api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/
```
Удалить комментарий к отзыву по id.

Права доступа: Автор комментария, модератор или администратор.

### 7) USERS: Пользователи
#### 7.1) Получение списка всех пользователей
```
GET: localhost/api/v1/users/
```
Получить список всех пользователей.

Права доступа: Администратор

#### 7.2) Добавление пользователя
```
POST: localhost/api/v1/users/
```
Добавить нового пользователя.

Права доступа: Администратор

#### 7.3) Получение пользователя по username
```
GET: localhost/api/v1/users/{username}/
```
Получить пользователя по username.

Права доступа: Администратор

#### 7.4) Изменение данных пользователя по username
```
PATCH: localhost/api/v1/users/{username}/
```
Изменить данные пользователя по username.

Права доступа: Администратор.

#### 7.5) Удаление пользователя по username
```
DELETE: localhost/api/v1/users/{username}/
```
Удалить пользователя по username.

Права доступа: Администратор.

#### 7.6) Получение данных своей учетной записи
```
GET: localhost/api/v1/users/me/
```
Получить данные своей учетной записи

Права доступа: Любой авторизованный пользователь

#### 7.7) Изменение данных своей учетной записи
```
PATCH: localhost/api/v1/users/me/
```
Изменить данные своей учетной записи

Права доступа: Любой авторизованный пользователь
